<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#121212">
    
    <link rel="apple-touch-icon" href="icon.png">
    <link rel="icon" type="image/png" href="icon.png">

    <title>Dr.Workout Log</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* iOS ë“±ì—ì„œ í„°ì¹˜ ì‹œ ë”œë ˆì´ ì œê±° ë° ë¶€ë“œëŸ¬ìš´ ìŠ¤í¬ë¡¤ */
        html { touch-action: manipulation; -webkit-tap-highlight-color: transparent; }
        body { background-color: #121212; color: #e0e0e0; padding-top: env(safe-area-inset-top); }
        .card { background-color: #1e1e1e; border: 1px solid #333; }
        /* ì…ë ¥ì°½ ìŠ¤íƒ€ì¼ ê°œì„  */
        input { 
            background-color: #2d2d2d; 
            border: 1px solid #444; 
            color: white; 
            padding: 8px; 
            border-radius: 6px; 
            width: 100%; 
            font-size: 16px; /* 16px ì´ìƒì´ì–´ì•¼ iOSì—ì„œ í™•ëŒ€ ì•ˆ ë¨ */
        }
        button { transition: all 0.2s; }
        button:active { transform: scale(0.95); }
    </style>
</head>
<body class="p-4 pb-12 md:p-8">
    <div class="max-w-4xl mx-auto">
        <header class="mb-6 mt-4 flex justify-between items-center">
            <div>
                <h1 class="text-2xl font-bold text-orange-500">ğŸ”¥ Dr.Workout</h1>
                <p class="text-xs text-gray-500">ì „ê³µì˜ ë“ê·¼ í”„ë¡œì íŠ¸</p>
            </div>
            <button onclick="saveData()" class="bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg font-bold shadow-md">ì €ì¥</button>
        </header>

        <div id="workout-container" class="grid gap-6">
            </div>
        
        <div class="mt-8 text-center text-gray-600 text-sm">
            ë°ì´í„°ëŠ” ê¸°ê¸°ì— ìë™ ì €ì¥ë©ë‹ˆë‹¤.
        </div>
    </div>

    <script>
        // ì´ˆê¸° ë°ì´í„° (ì‚¬ìš©ì ìš”ì²­ ë£¨í‹´ ë°˜ì˜)
        const defaultData = {
            "Day A: ë“± & í›„ë©´ì–´ê¹¨": [
                { name: "ì–´ì‹œìŠ¤íŠ¸ í’€ì—…", weight: "ì²´ì¤‘-20", reps: "10", sets: "4" },
                { name: "ë«í’€ë‹¤ìš´", weight: "65", reps: "12", sets: "4" },
                { name: "ì‹œí‹°ë“œ ë¡œìš°", weight: "65", reps: "12", sets: "3" },
                { name: "ì¼€ì´ë¸” ì•” í’€ë‹¤ìš´", weight: "30", reps: "15", sets: "3" },
                { name: "ë¦¬ì–´ ë¸íŠ¸ ë¨¸ì‹ ", weight: "40", reps: "15", sets: "3" }
            ],
            "Day B: ê°€ìŠ´ & ì¸¡ë©´ì–´ê¹¨ & ì‚¼ë‘": [
                { name: "ì¸í´ë¼ì¸ ì²´ìŠ¤íŠ¸ í”„ë ˆìŠ¤", weight: "60", reps: "10", sets: "4" },
                { name: "ì²´ìŠ¤íŠ¸ í”„ë ˆìŠ¤", weight: "65", reps: "12", sets: "3" },
                { name: "ê¸°êµ¬í˜• ë”¥ìŠ¤", weight: "60", reps: "12", sets: "3" },
                { name: "ë¨¸ì‹  ì‚¬ì´ë“œ ë ˆí„°ëŸ´", weight: "30", reps: "20", sets: "5" },
                { name: "ì¼€ì´ë¸” í‘¸ì‰¬ë‹¤ìš´", weight: "30", reps: "12", sets: "3" }
            ],
            "Day C: í•˜ì²´ & ì–´ê¹¨ & ì´ë‘": [
                { name: "í•µ ìŠ¤ì¿¼íŠ¸", weight: "120", reps: "10", sets: "4" },
                { name: "ìŠ¤ë¯¸ìŠ¤ ë¨¸ì‹  ë°ë“œë¦¬í”„íŠ¸", weight: "60", reps: "10", sets: "4" },
                { name: "ìˆ„ë” í”„ë ˆìŠ¤ ë¨¸ì‹ ", weight: "45", reps: "10", sets: "4" },
                { name: "ì¼€ì´ë¸” ì‚¬ì´ë“œ ë ˆí„°ëŸ´", weight: "10", reps: "15", sets: "4" },
                { name: "ì¼€ì´ë¸” ì»¬", weight: "20", reps: "12", sets: "4" }
            ]
        };

        let currentData = JSON.parse(localStorage.getItem('workoutData')) || defaultData;

        function render() {
            const container = document.getElementById('workout-container');
            container.innerHTML = '';

            for (const [day, exercises] of Object.entries(currentData)) {
                const daySection = document.createElement('div');
                daySection.className = 'card p-5 rounded-xl shadow-lg';
                
                let html = `
                    <div class="flex justify-between items-center mb-3 pb-2 border-b border-gray-700">
                        <h2 class="text-lg font-bold text-orange-400">${day}</h2>
                        <button onclick="addExercise('${day}')" class="text-xs bg-blue-600 px-3 py-1.5 rounded text-white font-medium">+ ì¶”ê°€</button>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left min-w-[300px]">
                            <thead>
                                <tr class="text-gray-400 text-xs">
                                    <th class="py-2 w-5/12">ì¢…ëª©</th>
                                    <th class="py-2 w-2/12">kg</th>
                                    <th class="py-2 w-2/12">íšŒ</th>
                                    <th class="py-2 w-2/12">ì„¸íŠ¸</th>
                                    <th class="py-2 w-1/12"></th>
                                </tr>
                            </thead>
                            <tbody class="text-sm">
                `;

                exercises.forEach((ex, idx) => {
                    html += `
                        <tr>
                            <td class="py-2 pr-1"><input value="${ex.name}" onchange="updateData('${day}', ${idx}, 'name', this.value)"></td>
                            <td class="py-2 pr-1"><input value="${ex.weight}" type="tel" onchange="updateData('${day}', ${idx}, 'weight', this.value)" class="text-center"></td>
                            <td class="py-2 pr-1"><input value="${ex.reps}" type="tel" onchange="updateData('${day}', ${idx}, 'reps', this.value)" class="text-center"></td>
                            <td class="py-2 pr-1"><input value="${ex.sets}" type="tel" onchange="updateData('${day}', ${idx}, 'sets', this.value)" class="text-center"></td>
                            <td class="py-2 text-center"><button onclick="removeExercise('${day}', ${idx})" class="text-red-500 font-bold px-1">Ã—</button></td>
                        </tr>
                    `;
                });

                html += `</tbody></table></div>`;
                daySection.innerHTML = html;
                container.appendChild(daySection);
            }
        }

        function updateData(day, idx, field, value) {
            currentData[day][idx][field] = value;
            // ì…ë ¥í•  ë•Œë§ˆë‹¤ ìë™ ì €ì¥ (ì„ íƒ ì‚¬í•­)
            localStorage.setItem('workoutData', JSON.stringify(currentData));
        }

        function addExercise(day) {
            currentData[day].push({ name: "", weight: "", reps: "", sets: "" });
            render();
        }

        function removeExercise(day, idx) {
            if(confirm('ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                currentData[day].splice(idx, 1);
                render();
                saveData(); // ì‚­ì œ ì‹œ ì¦‰ì‹œ ì €ì¥
            }
        }

        function saveData() {
            localStorage.setItem('workoutData', JSON.stringify(currentData));
            alert('ì €ì¥ ì™„ë£Œ! ì˜¤ëŠ˜ë„ ê³ ìƒí•˜ì…¨ìŠµë‹ˆë‹¤ ğŸ’ª');
        }

        render();
    </script>
</body>

</html>
